<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  
    <!-- Primary Meta Tags -->
    <title>Waitlist Companion™ - Interim Mental Health Support</title>
    <meta name="title" content="Waitlist Companion™ - Interim Mental Health Support" />
    <meta name="description" content="Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support." />
    <meta name="keywords" content="mental health, anxiety support, waitlist, mental health app, anxiety management, wellbeing, health, therapy waitlist, mental health support UK" />
    <meta name="author" content="Waitlist Companion" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    <meta name="theme-color" content="#4F46E5" />
    <meta name="format-detection" content="telephone=no" />
  
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://waitlistcompanion.com/" />
    <meta property="og:title" content="Waitlist Companion™ - Interim Mental Health Support" />
    <meta property="og:description" content="Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support." />
    <meta property="og:site_name" content="Waitlist Companion" />
    <meta property="og:image" content="https://waitlistcompanion.com/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Waitlist Companion - Mental Health Support" />
    <meta property="og:locale" content="en_GB" />
  
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://waitlistcompanion.com/" />
    <meta name="twitter:title" content="Waitlist Companion™ - Interim Mental Health Support" />
    <meta name="twitter:description" content="Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support." />
    <meta name="twitter:image" content="https://waitlistcompanion.com/og-image.png" />
    <meta name="twitter:image:alt" content="Waitlist Companion - Mental Health Support" />
  
    <!-- Canonical -->
    <link rel="canonical" href="https://waitlistcompanion.com/" />
  
    <!-- Mobile Web App -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Waitlist Companion" />
    <meta name="mobile-web-app-capable" content="yes" />
  
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.png">
    <link rel="icon" type="image/svg+xml" href="https://waitlistcompanion.com/favicon.png">
    <link rel="shortcut icon" type="image/svg+xml" href="https://waitlistcompanion.com/favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://waitlistcompanion.com/favicon.png">
  
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "WaitlistCompanion",
        "alternateName": "Waitlist Companion™ - Interim Mental Health Support",
        "description": "Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support.",
        "url": "https://waitlistcompanion.com",
        "applicationCategory": "HealthApplication",
        "operatingSystem": "Web",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "ratingCount": "150"
        },
        "inLanguage": ["en", "ar"],
        "availableLanguage": ["en", "ar"]
      }
      </script>
      
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "WaitlistCompanion",
        "url": "https://waitlistcompanion.com",
        "logo": "https://waitlistcompanion.com/logo.svg",
        "description": "Professional mental health support application providing interim care for patients.",
        "sameAs": []
      }
      </script>
      
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "WaitlistCompanion",
        "alternateName": "Waitlist Companion™ - Interim Mental Health Support",
        "url": "https://waitlistcompanion.com",
        "publisher": {
          "@type": "Organization",
          "name": "WaitlistCompanion",
          "logo": "https://waitlistcompanion.com/logo.svg"
        },
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://waitlistcompanion.com/search?q={search_term_string}",
          "query-input": "required name=search_term_string"
        },
        "inLanguage": ["en", "ar"]
      }
      </script>
      
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <!-- Hidden div for Google Translate -->
    <div id="google_translate_element" style="display: none;"></div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Google Translate -->
    <script type="text/javascript">
      // Aggressively clear Google Translate cookies from all possible paths
      function clearGoogleTranslateCookies() {
        var paths = ['/', '/en', ''];
        var domains = ['', window.location.hostname, '.' + window.location.hostname];
        var expires = 'expires=Thu, 01 Jan 1970 00:00:00 UTC;';
        
        // Clear from all path and domain combinations
        for (var i = 0; i < paths.length; i++) {
          for (var j = 0; j < domains.length; j++) {
            var domainStr = domains[j] ? 'domain=' + domains[j] + ';' : '';
            var pathStr = paths[i] ? 'path=' + paths[i] + ';' : '';
            // Clear the cookie
            document.cookie = 'googtrans=;' + expires + domainStr + pathStr;
          }
        }
        
        // Also clear localStorage and sessionStorage if Google Translate uses them
        try {
          localStorage.removeItem('googtrans');
          localStorage.removeItem('google_translate_lang');
          sessionStorage.removeItem('googtrans');
          sessionStorage.removeItem('google_translate_lang');
        } catch(e) {}
        
        // Set default to English
        document.cookie = 'googtrans=/en/en; path=/;';
      }

      // Set default language to English on first load (only if no cookie exists)
      function setDefaultLanguage() {
        // Check if there's a language preference cookie
        var cookies = document.cookie.split(';');
        var hasCookie = false;
        
        for (var i = 0; i < cookies.length; i++) {
          var cookie = cookies[i].trim();
          if (cookie.indexOf('googtrans=') === 0) {
            hasCookie = true;
            break;
          }
        }
        
        // Only set default to English if no cookie exists
        if (!hasCookie) {
          document.cookie = 'googtrans=/en/en; path=/;';
        }
      }

      function googleTranslateElementInit() {
        // Set default to English before initializing (only if no cookie exists)
        setDefaultLanguage();
        
        new google.translate.TranslateElement({
          pageLanguage: 'en',
          includedLanguages: 'en,ar',
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
          autoDisplay: false
        }, 'google_translate_element');

        // Use MutationObserver to detect when Google Translate adds elements
        var observer = new MutationObserver(function(mutations) {
          // Find the language selector dropdown
          var selectElement = document.querySelector('.goog-te-combo');
          if (selectElement && !selectElement.hasAttribute('data-listener-added')) {
            selectElement.setAttribute('data-listener-added', 'true');
            
            // Listen for language changes
            selectElement.addEventListener('change', function(e) {
              var selectedLang = this.value;
              
              // When English is selected (empty value means original page language)
              if (selectedLang === '' || selectedLang === 'en' || selectedLang === 'auto') {
                // Aggressively clear all Google Translate cookies first
                clearGoogleTranslateCookies();
                
                // Function to remove all translation elements and reload
                function removeTranslationAndReload() {
                  // Remove all Google Translate iframe overlays
                  var frames = document.querySelectorAll('iframe[src*="translate.google.com"]');
                  frames.forEach(function(frame) {
                    if (frame.id !== 'google_translate_element') {
                      try {
                        frame.style.display = 'none';
                        frame.remove();
                      } catch(e) {}
                    }
                  });
                  
                  // Remove translation wrapper classes
                  document.body.classList.remove('translated-ltr', 'translated-rtl');
                  document.documentElement.classList.remove('translated-ltr', 'translated-rtl');
                  document.documentElement.setAttribute('lang', 'en');
                  
                  // Hide skip translation link
                  var skipLink = document.querySelector('.skiptranslate');
                  if (skipLink) {
                    skipLink.style.display = 'none';
                  }
                  
                  // Clear cookies one more time before reload
                  clearGoogleTranslateCookies();
                  
                  // Force reload with cleared cookies - this ensures clean state
                  setTimeout(function() {
                    window.location.href = window.location.href.split('#')[0];
                  }, 100);
                }
                
                // Wait a bit for Google Translate to process, then remove translation
                setTimeout(removeTranslationAndReload, 50);
              }
            });
          }
        });

        // Start observing the document for changes
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });

        // Also check immediately in case the element already exists
        setTimeout(function() {
          var selectElement = document.querySelector('.goog-te-combo');
          if (selectElement && !selectElement.hasAttribute('data-listener-added')) {
            selectElement.setAttribute('data-listener-added', 'true');
            selectElement.addEventListener('change', function(e) {
              var selectedLang = this.value;
              if (selectedLang === '' || selectedLang === 'en' || selectedLang === 'auto') {
                // Aggressively clear all Google Translate cookies first
                clearGoogleTranslateCookies();
                
                function removeTranslationAndReload() {
                  var frames = document.querySelectorAll('iframe[src*="translate.google.com"]');
                  frames.forEach(function(frame) {
                    if (frame.id !== 'google_translate_element') {
                      try {
                        frame.style.display = 'none';
                        frame.remove();
                      } catch(e) {}
                    }
                  });
                  document.body.classList.remove('translated-ltr', 'translated-rtl');
                  document.documentElement.classList.remove('translated-ltr', 'translated-rtl');
                  document.documentElement.setAttribute('lang', 'en');
                  var skipLink = document.querySelector('.skiptranslate');
                  if (skipLink) {
                    skipLink.style.display = 'none';
                  }
                  // Clear cookies one more time before reload
                  clearGoogleTranslateCookies();
                  setTimeout(function() {
                    window.location.href = window.location.href.split('#')[0];
                  }, 100);
                }
                setTimeout(removeTranslationAndReload, 50);
              }
            });
          }
        }, 500);
      }

      // Set default language on page load (only if no cookie exists)
      window.addEventListener('DOMContentLoaded', function() {
        setDefaultLanguage();
      });
      
      // Also run immediately
      setDefaultLanguage();
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>