<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  
    <!-- Primary Meta Tags -->
    <title>Waitlist Companion™ - Interim Mental Health Support</title>
    <meta name="title" content="Waitlist Companion™ - Interim Mental Health Support" />
    <meta name="description" content="Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support." />
    <meta name="keywords" content="mental health, anxiety support, waitlist, mental health app, anxiety management, wellbeing, health, therapy waitlist, mental health support UK" />
    <meta name="author" content="Waitlist Companion" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    <meta name="theme-color" content="#4F46E5" />
    <meta name="format-detection" content="telephone=no" />
  
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://waitlistcompanion.com/" />
    <meta property="og:title" content="Waitlist Companion™ - Interim Mental Health Support" />
    <meta property="og:description" content="Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support." />
    <meta property="og:site_name" content="Waitlist Companion" />
    <meta property="og:image" content="https://waitlistcompanion.com/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Waitlist Companion - Mental Health Support" />
    <meta property="og:locale" content="en_GB" />
  
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://waitlistcompanion.com/" />
    <meta name="twitter:title" content="Waitlist Companion™ - Interim Mental Health Support" />
    <meta name="twitter:description" content="Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support." />
    <meta name="twitter:image" content="https://waitlistcompanion.com/og-image.png" />
    <meta name="twitter:image:alt" content="Waitlist Companion - Mental Health Support" />
  
    <!-- Canonical -->
    <link rel="canonical" href="https://waitlistcompanion.com/" />
  
    <!-- Mobile Web App -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Waitlist Companion" />
    <meta name="mobile-web-app-capable" content="yes" />
  
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.png">
    <link rel="icon" type="image/svg+xml" href="https://waitlistcompanion.com/favicon.png">
    <link rel="shortcut icon" type="image/svg+xml" href="https://waitlistcompanion.com/favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://waitlistcompanion.com/favicon.png">
  
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "WaitlistCompanion",
        "alternateName": "Waitlist Companion™ - Interim Mental Health Support",
        "description": "Professional mental health support while you wait for services. Evidence-based anxiety management, progress tracking, and crisis support.",
        "url": "https://waitlistcompanion.com",
        "applicationCategory": "HealthApplication",
        "operatingSystem": "Web",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "ratingCount": "150"
        },
        "inLanguage": ["en", "ar"],
        "availableLanguage": ["en", "ar"]
      }
      </script>
      
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "WaitlistCompanion",
        "url": "https://waitlistcompanion.com",
        "logo": "https://waitlistcompanion.com/logo.svg",
        "description": "Professional mental health support application providing interim care for patients.",
        "sameAs": []
      }
      </script>
      
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "WaitlistCompanion",
        "alternateName": "Waitlist Companion™ - Interim Mental Health Support",
        "url": "https://waitlistcompanion.com",
        "publisher": {
          "@type": "Organization",
          "name": "WaitlistCompanion",
          "logo": "https://waitlistcompanion.com/logo.svg"
        },
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://waitlistcompanion.com/search?q={search_term_string}",
          "query-input": "required name=search_term_string"
        },
        "inLanguage": ["en", "ar"]
      }
      </script>
      
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <!-- Hidden div for Google Translate -->
    <div id="google_translate_element" style="display: none;"></div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Google Translate -->
    <script type="text/javascript">
      // Aggressively clear Google Translate cookies from all possible paths and security settings
      function clearGoogleTranslateCookies() {
        var paths = ['/', '/en', '', '/index.html'];
        var hostname = window.location.hostname;
        var domains = [
          '',  // No domain (default)
          hostname,  // Exact hostname
          '.' + hostname,  // With dot prefix
          hostname.split('.').slice(-2).join('.'),  // Parent domain if subdomain
          '.' + hostname.split('.').slice(-2).join('.')  // Parent with dot
        ];
        
        // Remove duplicates
        domains = domains.filter(function(value, index, self) {
          return self.indexOf(value) === index;
        });
        
        var expires = 'expires=Thu, 01 Jan 1970 00:00:00 UTC;';
        var secureFlag = window.location.protocol === 'https:' ? 'Secure;' : '';
        
        // Clear from all path, domain, and security combinations
        for (var i = 0; i < paths.length; i++) {
          for (var j = 0; j < domains.length; j++) {
            var domainStr = domains[j] ? 'domain=' + domains[j] + ';' : '';
            var pathStr = paths[i] ? 'path=' + paths[i] + ';' : '';
            
            // Clear without secure flag
            document.cookie = 'googtrans=;' + expires + domainStr + pathStr + 'SameSite=Lax;';
            document.cookie = 'googtrans=;' + expires + domainStr + pathStr + 'SameSite=Strict;';
            document.cookie = 'googtrans=;' + expires + domainStr + pathStr + 'SameSite=None;';
            
            // Clear with secure flag (for HTTPS)
            if (secureFlag) {
              document.cookie = 'googtrans=;' + expires + domainStr + pathStr + secureFlag + 'SameSite=Lax;';
              document.cookie = 'googtrans=;' + expires + domainStr + pathStr + secureFlag + 'SameSite=Strict;';
              document.cookie = 'googtrans=;' + expires + domainStr + pathStr + secureFlag + 'SameSite=None;';
            }
            
            // Also try clearing with different cookie names Google might use
            document.cookie = 'googtrans=/en/ar;' + expires + domainStr + pathStr + 'SameSite=Lax;';
            document.cookie = 'googtrans=/ar;' + expires + domainStr + pathStr + 'SameSite=Lax;';
          }
        }
        
        // Also clear localStorage and sessionStorage if Google Translate uses them
        try {
          var keysToRemove = ['googtrans', 'google_translate_lang', 'gt_lang'];
          keysToRemove.forEach(function(key) {
            try {
              localStorage.removeItem(key);
              sessionStorage.removeItem(key);
              // Clear all localStorage items that start with 'goog'
              for (var k = 0; k < localStorage.length; k++) {
                var storageKey = localStorage.key(k);
                if (storageKey && storageKey.toLowerCase().indexOf('goog') >= 0) {
                  localStorage.removeItem(storageKey);
                }
              }
            } catch(e) {}
          });
        } catch(e) {}
        
        // Set default to English with proper attributes
        var cookieSettings = 'path=/; max-age=86400; SameSite=Lax;';
        if (window.location.protocol === 'https:') {
          cookieSettings += ' Secure;';
        }
        document.cookie = 'googtrans=/en/en;' + cookieSettings;
      }

      // Helper function to set English cookie with proper security settings
      function setEnglishCookie() {
        var cookieSettings = 'path=/; max-age=86400; SameSite=Lax;';
        if (window.location.protocol === 'https:') {
          cookieSettings += ' Secure;';
        }
        document.cookie = 'googtrans=/en/en;' + cookieSettings;
      }

      // Set default language to English on first load (only if no cookie exists)
      function setDefaultLanguage() {
        // Check if there's a language preference cookie
        var cookies = document.cookie.split(';');
        var hasCookie = false;
        
        for (var i = 0; i < cookies.length; i++) {
          var cookie = cookies[i].trim();
          if (cookie.indexOf('googtrans=') === 0) {
            hasCookie = true;
            break;
          }
        }
        
        // Only set default to English if no cookie exists
        if (!hasCookie) {
          setEnglishCookie();
        }
      }

      function googleTranslateElementInit() {
        // Set default to English before initializing (only if no cookie exists)
        setDefaultLanguage();
        
        new google.translate.TranslateElement({
          pageLanguage: 'en',
          includedLanguages: 'en,ar',
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
          autoDisplay: false
        }, 'google_translate_element');

        // Use MutationObserver to detect when Google Translate adds elements
        var observer = new MutationObserver(function(mutations) {
          // Find the language selector dropdown
          var selectElement = document.querySelector('.goog-te-combo');
          if (selectElement && !selectElement.hasAttribute('data-listener-added')) {
            selectElement.setAttribute('data-listener-added', 'true');
            
            // Monitor cookies continuously - if we detect Arabic cookie when English is selected, clear it
            var cookieWatcher = setInterval(function() {
              var cookies = document.cookie.split(';');
              var hasArabicCookie = false;
              for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                if (cookie.indexOf('googtrans=') === 0) {
                  var value = cookie.substring('googtrans='.length);
                  if (value.indexOf('/ar') >= 0 || value.indexOf('/en/ar') >= 0) {
                    hasArabicCookie = true;
                    // Check if user selected English option (first option is usually English)
                    var selectEl = document.querySelector('.goog-te-combo');
                    if (selectEl && selectEl.selectedIndex === 0) {
                      // English is selected (first option) but Arabic cookie exists
                      clearGoogleTranslateCookies();
                      setEnglishCookie();
                      setTimeout(function() {
                        // Check if still Arabic after clearing
                        var checkCookies = document.cookie.split(';');
                        var stillHasArabic = false;
                        for (var j = 0; j < checkCookies.length; j++) {
                          var checkCookie = checkCookies[j].trim();
                          if (checkCookie.indexOf('googtrans=') === 0) {
                            var checkValue = checkCookie.substring('googtrans='.length);
                            if (checkValue.indexOf('/ar') >= 0) {
                              stillHasArabic = true;
                              break;
                            }
                          }
                        }
                        if (stillHasArabic) {
                          window.location.reload();
                        }
                      }, 200);
                      break;
                    }
                    break;
                  }
                }
              }
            }, 300);
            
            // Listen for language changes - but DON'T prevent propagation
            // Instead, let Google Translate process it, then immediately fix the cookie
            selectElement.addEventListener('change', function(e) {
              // Wait a tiny bit for Google Translate to process the change
              setTimeout(function() {
                var selectedLang = selectElement.value;
                var selectedOption = selectElement.options[selectElement.selectedIndex];
                var selectedIndex = selectElement.selectedIndex;
                
                // Check if we're currently in Arabic mode (before the change)
                var cookies = document.cookie.split(';');
                var isCurrentlyArabic = false;
                for (var i = 0; i < cookies.length; i++) {
                  var cookie = cookies[i].trim();
                  if (cookie.indexOf('googtrans=') === 0) {
                    var value = cookie.substring('googtrans='.length);
                    if (value.indexOf('/ar') >= 0 || value.indexOf('/en/ar') >= 0) {
                      isCurrentlyArabic = true;
                      break;
                    }
                  }
                }
                
                // If we were in Arabic mode, check if English was selected
                // English is typically the first option (index 0) or has empty value
                var isEnglishSelected = selectedIndex === 0 || 
                                        selectedLang === '' || 
                                        selectedLang === null ||
                                        selectedLang === undefined ||
                                        (selectedOption && (
                                          selectedOption.text.toLowerCase().indexOf('english') >= 0 ||
                                          selectedOption.text.toLowerCase().indexOf('select') >= 0
                                        ));
                
                // If we were in Arabic and English is now selected, force clear cookie
                if (isCurrentlyArabic || isEnglishSelected) {
                  // Clear all cookies and set English
                  clearGoogleTranslateCookies();
                  setEnglishCookie();
                  
                  // Check again after a moment - if still Arabic, reload
                  setTimeout(function() {
                    var finalCookies = document.cookie.split(';');
                    var stillArabic = false;
                    for (var j = 0; j < finalCookies.length; j++) {
                      var finalCookie = finalCookies[j].trim();
                      if (finalCookie.indexOf('googtrans=') === 0) {
                        var finalValue = finalCookie.substring('googtrans='.length);
                        if (finalValue.indexOf('/ar') >= 0 || finalValue.indexOf('/en/ar') >= 0) {
                          stillArabic = true;
                          break;
                        }
                      }
                    }
                    
                    // If still in Arabic mode, force reload
                    if (stillArabic || (isEnglishSelected && isCurrentlyArabic)) {
                      window.location.replace(window.location.href.split('#')[0].split('?')[0]);
                    }
                  }, 300);
                }
              }, 100); // Small delay to let Google Translate process first
            });
          }
        });

        // Start observing the document for changes
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });

        // Also check immediately in case the element already exists
        setTimeout(function() {
          var selectElement = document.querySelector('.goog-te-combo');
          if (selectElement && !selectElement.hasAttribute('data-listener-added')) {
            selectElement.setAttribute('data-listener-added', 'true');
            var cookieWatcher2 = setInterval(function() {
              var cookies = document.cookie.split(';');
              for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                if (cookie.indexOf('googtrans=') === 0) {
                  var value = cookie.substring('googtrans='.length);
                  if (value.indexOf('/ar') >= 0 || value.indexOf('/en/ar') >= 0) {
                    var selectEl = document.querySelector('.goog-te-combo');
                    if (selectEl && selectEl.selectedIndex === 0) {
                      clearGoogleTranslateCookies();
                      document.cookie = 'googtrans=/en/en; path=/; max-age=86400;';
                      setTimeout(function() {
                        var checkCookies = document.cookie.split(';');
                        var stillHasArabic = false;
                        for (var j = 0; j < checkCookies.length; j++) {
                          var checkCookie = checkCookies[j].trim();
                          if (checkCookie.indexOf('googtrans=') === 0) {
                            var checkValue = checkCookie.substring('googtrans='.length);
                            if (checkValue.indexOf('/ar') >= 0) {
                              stillHasArabic = true;
                              break;
                            }
                          }
                        }
                        if (stillHasArabic) {
                          window.location.reload();
                        }
                      }, 200);
                    }
                    break;
                  }
                }
              }
            }, 300);
            
            selectElement.addEventListener('change', function(e) {
              setTimeout(function() {
                var selectedLang = selectElement.value;
                var selectedOption = selectElement.options[selectElement.selectedIndex];
                var selectedIndex = selectElement.selectedIndex;
                
                var cookies = document.cookie.split(';');
                var isCurrentlyArabic = false;
                for (var i = 0; i < cookies.length; i++) {
                  var cookie = cookies[i].trim();
                  if (cookie.indexOf('googtrans=') === 0) {
                    var value = cookie.substring('googtrans='.length);
                    if (value.indexOf('/ar') >= 0 || value.indexOf('/en/ar') >= 0) {
                      isCurrentlyArabic = true;
                      break;
                    }
                  }
                }
                
                var isEnglishSelected = selectedIndex === 0 || 
                                        selectedLang === '' || 
                                        selectedLang === null ||
                                        selectedLang === undefined ||
                                        (selectedOption && (
                                          selectedOption.text.toLowerCase().indexOf('english') >= 0 ||
                                          selectedOption.text.toLowerCase().indexOf('select') >= 0
                                        ));
                
                if (isCurrentlyArabic || isEnglishSelected) {
                  clearGoogleTranslateCookies();
                  document.cookie = 'googtrans=/en/en; path=/; max-age=86400;';
                  
                  setTimeout(function() {
                    var finalCookies = document.cookie.split(';');
                    var stillArabic = false;
                    for (var j = 0; j < finalCookies.length; j++) {
                      var finalCookie = finalCookies[j].trim();
                      if (finalCookie.indexOf('googtrans=') === 0) {
                        var finalValue = finalCookie.substring('googtrans='.length);
                        if (finalValue.indexOf('/ar') >= 0 || finalValue.indexOf('/en/ar') >= 0) {
                          stillArabic = true;
                          break;
                        }
                      }
                    }
                    
                    if (stillArabic || (isEnglishSelected && isCurrentlyArabic)) {
                      window.location.replace(window.location.href.split('#')[0].split('?')[0]);
                    }
                  }, 300);
                }
              }, 100);
            });
          }
        }, 500);
      }

      // Set default language on page load (only if no cookie exists)
      window.addEventListener('DOMContentLoaded', function() {
        setDefaultLanguage();
        
        // After Google Translate loads, check if we're stuck in Arabic
        setTimeout(function() {
          var cookies = document.cookie.split(';');
          var hasArabicCookie = false;
          for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i].trim();
            if (cookie.indexOf('googtrans=') === 0) {
              var value = cookie.substring('googtrans='.length);
              if (value.indexOf('/ar') >= 0 || value.indexOf('/en/ar') >= 0) {
                hasArabicCookie = true;
                // Check if dropdown is set to English (first option)
                var selectEl = document.querySelector('.goog-te-combo');
                if (selectEl && selectEl.selectedIndex === 0) {
                  // English is selected but Arabic cookie exists - clear it
                  clearGoogleTranslateCookies();
                  setEnglishCookie();
                  window.location.reload();
                }
                break;
              }
            }
          }
        }, 2000);
      });
      
      // Also run immediately
      setDefaultLanguage();
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>